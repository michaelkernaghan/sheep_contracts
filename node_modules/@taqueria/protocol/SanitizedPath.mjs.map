{"version":3,"sources":["SanitizedPath.ts"],"sourcesContent":["import createType from '@taqueria/protocol/Base';\nimport { z } from 'zod';\n\nexport const rawSchema = z\n\t.string({ description: 'Sanitized Path' })\n\t.transform(value => {\n\t\tconst result = value.match(/^(\\.\\.|\\.\\/|\\/)/);\n\t\treturn result ? value : `./${value}`;\n\t});\n\ntype RawInput = z.infer<typeof rawSchema>;\n\nconst { schemas: generatedSchemas, factory } = createType<RawInput, RawInput>({\n\tisStringLike: true,\n\trawSchema,\n\tparseErrMsg: (value: unknown) => `${value} is an invalid filesystem path`,\n\tunknownErrMsg: (value: unknown) => `Something went wrong trying to parse the filesystem path, ${value}`,\n});\n\nexport const internalSchema = generatedSchemas.schema;\n\nexport type SanitizedPath = z.infer<typeof internalSchema>;\nexport type t = SanitizedPath;\nexport const { create, of, make } = factory;\nexport const schemas = {\n\t...generatedSchemas,\n\tschema: generatedSchemas.schema.transform(val => val as SanitizedPath),\n};\n"],"mappings":";AAAA,OAAO,gBAAgB;AACvB,SAAS,SAAS;AAEX,IAAM,YAAY,EACvB,OAAO,EAAE,aAAa,iBAAiB,CAAC,EACxC,UAAU,WAAS;AACnB,QAAM,SAAS,MAAM,MAAM,iBAAiB;AAC5C,SAAO,SAAS,QAAQ,KAAK;AAC9B,CAAC;AAIF,IAAM,EAAE,SAAS,kBAAkB,QAAQ,IAAI,WAA+B;AAAA,EAC7E,cAAc;AAAA,EACd;AAAA,EACA,aAAa,CAAC,UAAmB,GAAG;AAAA,EACpC,eAAe,CAAC,UAAmB,6DAA6D;AACjG,CAAC;AAEM,IAAM,iBAAiB,iBAAiB;AAIxC,IAAM,EAAE,QAAQ,IAAI,KAAK,IAAI;AAC7B,IAAM,UAAU;AAAA,EACtB,GAAG;AAAA,EACH,QAAQ,iBAAiB,OAAO,UAAU,SAAO,GAAoB;AACtE;","names":[]}